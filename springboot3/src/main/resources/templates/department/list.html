<html>

<head>
  <div th:replace="layout/fragments :: documentHeader"></div>
</head>

<body>

  <div th:replace="layout/fragments :: pageHeader('부서 목록')"></div>

  <main class="m-2">
    <table class="table table-striped table-hover">
      <thead class="table-light">
        <tr>
          <th>부서 번호</th>
          <th>부서 이름</th>
          <th>매니저</th>
          <th>위치</th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        <tr th:each="dept : ${page}" th:object="${dept}">
          <td><a th:text="*{id}" th:href="@{/department/detail/{id}(id=*{id})}"></a></td>
          <td><a th:text="*{dname}" th:href="@{/department/detail/{id}(id=*{id})}"></a></td>
          <td>
            <th:block th:if="*{manager != null}">
              <a th:text="*{manager.firstName}+ ' ' + *{manager.lastName}"
                th:href="@{/employee/detail(id=*{manager.id})}"></a>
            </th:block>
          </td>
          <td><a th:text="*{location.city}" th:href="@{/location/detail(id=*{location.id})}"></a></td>
        </tr>
      </tbody>
    </table>
  </main>

  <!-- 페이지 fragment -->
  <th:block th:replace="~{/layout/fragments :: pagination}"></th:block>
  <th:block th:replace="~{/layout/fragments :: bootstrapJS}"></th:block>
</body>

</html>